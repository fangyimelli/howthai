<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>泰語圖像式記憶練習</title>
    <link rel="stylesheet" href="src/styles.css" />
  </head>
  <body>
    <header class="hero">
      <div class="hero-text">
        <p class="hero-label">圖像＋聲音，一條線玩到底</p>
        <h1>泰語圖像式記憶練習</h1>
        <p class="hero-subtitle">看圖＋聽音，一題一題把泰文子音母音記熟</p>
        <div class="hero-cta">
          <button id="hero-cta" class="primary-button">開始練習</button>
          <p id="hero-hint" class="hero-hint">準備好闖關，先從子音開始！</p>
          <p id="daily-reminder" class="hero-reminder" hidden>今天目標：做完 1 關子音，或 30 題隨機練習</p>
        </div>
      </div>
    </header>

    <main class="main-layout">
      <section class="practice-stack" id="practice">
        <article class="card" id="learning-card">
          <div class="card-visual" id="visual-card">
            <div class="visual-orbit" id="visual-orbit"></div>
            <span id="visual-symbol">🌟</span>
          </div>
          <div class="card-body">
            <div class="card-meta">
              <span class="badge" id="category-label"></span>
              <span class="phonetic" id="phonetic-label" data-revealed="false">音標：？</span>
            </div>
            <h2 id="thai-script"></h2>
            <p id="mnemonic" class="mnemonic"></p>
            <div id="question-area" class="question-area"></div>
            <div id="feedback-area" class="feedback-area"></div>
            <div class="card-actions">
              <button id="play-audio" class="ghost-button">播放發音</button>
              <button id="show-answer" class="ghost-button">顯示答案</button>
              <button id="next-card" class="primary-button">下一題</button>
            </div>
          </div>
        </article>

        <aside class="stage-widget">
          <div class="stage-header">
            <div>
              <h3>本關進度</h3>
              <p id="stage-subtitle" class="stage-subtitle">子音關卡</p>
            </div>
            <button id="drill-unfamiliar" class="pill-button">啟動修羅場模式</button>
          </div>
          <div class="stage-meter">
            <div class="meter-label">正確率 80% 達標</div>
            <div class="meter-track">
              <div class="meter-fill" id="accuracy-fill"></div>
            </div>
            <p id="accuracy-label" class="meter-value">0% / 80%</p>
            <div class="stage-star" id="stage-star" data-active="false">集滿條件就能點亮星星</div>
          </div>
          <div class="combo-line">
            <p>連擊</p>
            <div id="combo-value" class="combo-value">0 / 10 🔥</div>
          </div>
          <div id="stage-celebration" class="stage-celebration" hidden>
            <p>✅ 恭喜破關！下一關已解鎖</p>
            <button id="celebration-continue" class="primary-button">前往下一關</button>
          </div>
          <div class="stage-roadmap" id="stage-roadmap"></div>
          <div id="custom-indicator" class="custom-indicator">目前為闖關模式。</div>
          <section class="trouble-highlight">
            <h4>今天最調皮的字母 😈</h4>
            <ol id="trouble-list"></ol>
          </section>
          <section class="daily-widget" id="daily-widget">
            <div class="daily-header">
              <h4>每日進步</h4>
              <span id="daily-streak" class="daily-streak">你已連續練習 0 天 🔥</span>
            </div>
            <p class="section-hint">今日目標：完成 30 題／正確率 ≥ 70%</p>
            <div class="daily-meter">
              <div class="meter-track">
                <div class="meter-fill" id="daily-meter-fill"></div>
              </div>
              <p id="daily-meter-label" class="meter-value">已完成 0 / 30 題</p>
            </div>
            <p id="daily-accuracy-label" class="daily-accuracy">正確率 0% / 70%</p>
          </section>
        </aside>
      </section>

      <div class="mobile-action-bar">
        <button data-mobile-action="play">播放</button>
        <button data-mobile-action="answer">答案</button>
        <button data-mobile-action="next" class="primary">下一題</button>
      </div>

      <section class="details-grid">
        <details>
          <summary>題型標籤＋建議路線</summary>
          <p class="section-hint">依序練：子音 → 母音 → 音調 → 單字。若直接選單字，我們會提醒你先打好基礎。</p>
          <div id="mode-tabs" class="mode-tabs"></div>
          <p id="mode-tip" class="section-hint"></p>
        </details>

        <details>
          <summary>字母 / 音標表</summary>
          <p class="section-hint">勾選代表加入不熟資料庫，下方按鈕可用勾選項目開啟自選練習。</p>
          <div id="alphabet-list" class="alphabet-list"></div>
          <div class="page-actions">
            <button id="start-alphabet-practice" class="ghost-button">以勾選項目開始練習</button>
          </div>
        </details>

        <details>
          <summary>不熟資料庫</summary>
          <p class="section-hint" id="unfamiliar-count">目前沒有不熟項目，保持加油！</p>
          <div id="unfamiliar-pool" class="unfamiliar-pool"></div>
          <div class="page-actions">
            <button id="start-unfamiliar-practice" class="primary-button">進入修羅場模式</button>
          </div>
          <p class="section-hint">錯題或勾選都會進入修羅場。專練時同一題連對 3 次，就會自動移出不熟清單與排行。</p>
        </details>

        <details>
          <summary>更多工具</summary>
          <button id="reset-progress" class="ghost-button">清除紀錄</button>
          <p class="section-hint">清除後會重置闖關、紀錄與不熟資料。</p>
        </details>
      </section>
    </main>

    <template id="option-template">
      <button class="option-button"></button>
    </template>

    <script type="module" src="src/app.js"></script>
  </body>
</html>
